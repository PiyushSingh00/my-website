<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>ScheduleIt ‚Äì Host a tournament</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Fonts to match the rest of the app -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles/host.css" />
  </head>
  <body>
    <div class="app-shell">
      <!-- Top bar -->
    <header class="topbar">
        <div class="brand">ScheduleIt</div>

        <div class="topbar-right">
            <div class="user-menu">
            <button
                class="user-trigger"
                id="host-user-menu-trigger"
                type="button"
            >
                Signed in as <span id="username-label">Host</span>
                <span class="caret">‚ñæ</span>
            </button>

            <div
                class="user-menu-dropdown"
                id="host-user-menu-dropdown"
            >
                <button
                type="button"
                class="dropdown-item"
                id="switch-player-mode"
                >
                Switch to player mode
                </button>
            </div>
            </div>

            <button class="signout-btn" id="signout-btn" type="button">
            Sign out
            </button>
        </div>
    </header>


      <!-- Main content -->
    <main class="main">
    <div class="host-layout">
        <!-- Mode toggle cards -->
        <section class="host-mode-toggle">
        <button
            class="host-mode-card active"
            type="button"
            data-host-mode="my"
        >
            <h2>My tournaments</h2>
            <p>See and manage all tournaments you have hosted.</p>
        </button>

        <button
            class="host-mode-card"
            type="button"
            data-host-mode="new"
        >
            <h2>Host new tournament</h2>
            <p>Create a new tournament and share the access code.</p>
        </button>
        </section>

    <!-- My tournaments view -->
    <section
        id="my-tournaments-view"
        class="host-view host-view--active"
        aria-label="My tournaments"
        >

        <!-- Sport filter -->
        <div class="field-group" style="max-width: 260px; margin-bottom: 12px;">
            <label for="filter-sport">Filter by sport</label>
            <select id="filter-sport">
                <option value="">All sports</option>
            </select>
        </div>

        <div id="my-tournaments-list" class="tournaments-list">
            <!-- initial placeholder; JS will replace when needed -->
            <div class="empty-state">
            <div class="feature-icon">üìã</div>
            <h3>No tournaments yet</h3>
            <p class="muted">
                Once you host tournaments, you‚Äôll see them listed here.
            </p>
            </div>
        </div>

        <!-- NEW: details placeholder shown when a card is clicked -->
        <div id="tournament-detail" class="tournament-detail hidden">
            <div class="tournament-detail-card">
            <h2 id="detail-tournament-name">Tournament name</h2>

            <p class="detail-line">
                <span class="detail-label">Code:</span>
                <span id="detail-tournament-code"></span>
            </p>

            <p class="detail-line">
                <span class="detail-label">Total registrations:</span>
                <span id="detail-total-registrations">0</span>
            </p>

            <button
                type="button"
                class="btn-secondary danger-btn"
                id="stop-registrations-btn"
            >
                Stop registrations
            </button>
            </div>
        </div>
    </section>


        <!-- Host new tournament view (wrap your existing card+form) -->
        <section
        id="new-tournament-view"
        class="host-view"
        aria-label="Host new tournament"
        >
        <section class="host-card">
            <h1>Host a Tournament</h1>
            <p class="lede">
            Set the essentials and generate a code to invite players.
            </p>

            <form id="host-form">
            <div class="field-group">
                <label for="tournament-name">Tournament name</label>
                <input
                type="text"
                id="tournament-name"
                name="tournamentName"
                placeholder="e.g., Winter Open 2025"
                required
                />
            </div>

            <div class="field-group">
            <label for="sport-name">Sport</label>
            <select id="sport-name" name="sportName" required>
                <option value="">Select sport</option>
                <option value="Football">Football</option>
                <option value="Cricket">Cricket</option>
                <option value="Badminton">Badminton</option>
                <option value="Tennis">Tennis</option>
                <option value="Basketball">Basketball</option>
            </select>
            </div>


            <div class="field-group">
                <label for="tournament-dates">Tournament dates</label>
                <input
                type="date"
                id="tournament-dates"
                name="tournamentDates"
                required
                />
            </div>

            <div class="field-group">
            <label for="tournament-venue">Venue</label>
            <input
                type="text"
                id="tournament-venue"
                name="venue"
                placeholder="e.g. Andheri Sports Complex, Mumbai"
                required
            />
            </div>

            <div class="field-group">
            <label>Categories</label>

            <div id="categories-container"></div>

            <button
                type="button"
                class="btn-secondary"
                id="add-category-btn"
            >
                + Add category
            </button>
            </div>


            <div class="field-group">
                <label for="access-code">Access code</label>
                <div class="code-row">
                <input
                    type="text"
                    id="access-code"
                    name="accessCode"
                    placeholder="Click Generate code"
                    readonly
                />
                <button
                    type="button"
                    class="btn-dark"
                    id="generate-code-btn"
                >
                    Generate code
                </button>
                </div>
            </div>

            <div class="field-group">
                <label for="player-details">Details for players</label>
                <textarea
                id="player-details"
                name="playerDetails"
                rows="4"
                placeholder="Share venue, timing, and any special rules."
                ></textarea>
            </div>

            <div class="actions-row">
            <button type="submit" class="btn-primary">
                Save tournament
            </button>
            </div>

            </form>
            <p class="host-note">
            To add players manually, go to <strong>‚ÄúMy tournaments‚Äù</strong>.
            </p>

        </section>
        </section>
    </div>
    </main>

    

    </div>

      <!-- Tournament details popup -->
    <div class="modal-overlay" id="tournament-details-modal" aria-hidden="true">
        <div class="modal">
            <button class="modal-close" type="button" aria-label="Close">&times;</button>

            <p class="eyebrow">Tournament details</p>
            <h3 id="modalTournamentName"></h3>

            <p class="muted">
                Code: <span id="modalTournamentCode"></span>
            </p>
            <p class="muted">
                Total registrations: <span id="modalTournamentRegistrations"></span>
            </p>

            <div class="modal-actions">
                <button class="btn primary full-width" id="modalStopRegistrations">
                    Stop registrations
                </button>

            <!-- Hidden by default ‚Äì shown only when registrations are closed -->
                <button
                    class="btn secondary full-width"
                    id="modalViewPlayers"
                    type="button"
                    style="display: none;"
                >
                    View players
                </button>
            </div>

        </div>
    </div>


    <script type="module" src="scripts/host.js"></script>
  </body>
</html>
